{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '49342840-003e2c292237fbf09de0074d9';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst formSearch = document.querySelector('.form');\nconst listImages = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\nformSearch.addEventListener('submit', onSearch);\n\nfunction showLoader() {\n  loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction onSearch(event) {\n  event.preventDefault();\n  listImages.innerHTML = '';\n  showLoader();\n\n  const inputValue = event.target.elements['search-text'].value.trim();\n  if (!inputValue) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Input cannot be empty!',\n      color: '#ff0000',\n    });\n    hideLoader();\n    return;\n  }\n\n  getPictures(inputValue)\n    .then(data => {\n      hideLoader();\n\n      if (!data.hits.length) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      listImages.innerHTML = createMarkup(data.hits);\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n\n      formSearch.reset();\n    })\n    .catch(error => {\n      hideLoader();\n      iziToast.error({ title: 'Error', message: error.message });\n    });\n}\n\nasync function getPictures(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || 'Failed to fetch images');\n  }\n}\n\nfunction createMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" />\n        </a>\n        <div class=\"thumb-block\">\n          <div class=\"block\"><h2 class=\"title\">Likes</h2><p class=\"amount\">${likes}</p></div>\n          <div class=\"block\"><h2 class=\"title\">Views</h2><p class=\"amount\">${views}</p></div>\n          <div class=\"block\"><h2 class=\"title\">Comments</h2><p class=\"amount\">${comments}</p></div>\n          <div class=\"block\"><h2 class=\"title\">Downloads</h2><p class=\"amount\">${downloads}</p></div>\n        </div>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["API_KEY","BASE_URL","formSearch","listImages","loader","onSearch","showLoader","hideLoader","event","inputValue","iziToast","getPictures","data","createMarkup","SimpleLightbox","error","query","axios","_b","_a","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"owBAMA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OACvBF,EAAW,iBAAiB,SAAUG,CAAQ,EAE9C,SAASC,GAAa,CACpBF,EAAO,MAAM,QAAU,OACzB,CAEA,SAASG,GAAa,CACpBH,EAAO,MAAM,QAAU,MACzB,CAEA,SAASC,EAASG,EAAO,CACvBA,EAAM,eAAc,EACpBL,EAAW,UAAY,GACvBG,IAEA,MAAMG,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC9D,GAAI,CAACC,EAAY,CACfC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACT,MAAO,SACb,CAAK,EACDH,IACA,MACD,CAEDI,EAAYF,CAAU,EACnB,KAAKG,GAAQ,CAGZ,GAFAL,IAEI,CAACK,EAAK,KAAK,OAAQ,CACrBF,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EACD,MACD,CAEDP,EAAW,UAAYU,EAAaD,EAAK,IAAI,EAE5B,IAAIE,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,EAEhBZ,EAAW,MAAK,CACtB,CAAK,EACA,MAAMa,GAAS,CACdR,IACAG,EAAS,MAAM,CAAE,MAAO,QAAS,QAASK,EAAM,OAAO,CAAE,CAC/D,CAAK,CACL,CAEA,eAAeJ,EAAYK,EAAO,SAChC,GAAI,CAUF,OATiB,MAAMC,EAAM,IAAIhB,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGgB,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GACe,IACjB,OAAQD,EAAO,CACd,MAAM,IAAI,QAAMG,GAAAC,EAAAJ,EAAM,WAAN,YAAAI,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,wBAAwB,CAC1E,CACH,CAEA,SAASL,EAAaO,EAAQ,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6EAGOC,CAAK;AAAA,6EACLC,CAAK;AAAA,gFACFC,CAAQ;AAAA,iFACPC,CAAS;AAAA;AAAA,YAGrF,EACA,KAAK,EAAE,CACZ"}